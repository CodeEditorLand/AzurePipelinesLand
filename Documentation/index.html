<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta name="keywords" content="@playform/document"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>azure-pipelines</title><meta name="description" content="Documentation for azure-pipelines"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><link rel="stylesheet" href="assets/custom.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">azure-pipelines</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>azure-pipelines</h2></div><div class="tsd-panel tsd-typography"><p><a href="https://dev.azure.com/mseng/PipelineTools/_build/latest?definitionId=17236&amp;repoName=microsoft%2Fazure-pipelines-vscode&amp;branchName=main"><img src="https://dev.azure.com/mseng/PipelineTools/_apis/build/status%2FVSCode%20Extension%2Fvscode-extension-ci?repoName=microsoft%2Fazure-pipelines-vscode&amp;branchName=main" alt="Build Status"></a></p>
<a id="md:azure-pipelines-for-vs-code" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Azure Pipelines for VS Code<a href="#md:azure-pipelines-for-vs-code" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://marketplace.visualstudio.com/items?itemName=ms-azure-devops.azure-pipelines">Get it on the VS Code Marketplace!</a></p>
<p>This VS Code extension adds syntax highlighting and autocompletion for Azure
Pipelines YAML to VS Code. It also helps you set up continuous build and
deployment for Azure WebApps without leaving VS Code.</p>
<a id="md:validation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Validation<a href="#md:validation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Basic YAML validation is built in to VS Code, but now you can have syntax
highlighting that's aware of the Pipelines YAML schema. This means that you get
red squigglies if you say <code>tasks:</code> where you meant <code>task:</code>. IntelliSense is also
schema-aware. Wherever you are in the file, press Ctrl-Space to see what options
you have at that point.</p>
<p>By default, the extension will highlight known Azure Pipelines files in the root
of your workspace. You can change the language mode at the lower right to work
with one file at a time. Click the language picker, then choose &quot;Azure
Pipelines&quot;. If you have files which should always use this extension, set your
user or workspace settings to match those file paths with this extension. For
example:</p>
<pre><code class="json"><span class="hl-0">{</span><br/><span class="hl-0">	</span><span class="hl-1">&quot;files.associations&quot;</span><span class="hl-0">: {</span><br/><span class="hl-0">		</span><span class="hl-1">&quot;**/ci/*.yml&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;azure-pipelines&quot;</span><br/><span class="hl-0">	}</span><br/><span class="hl-0">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:schema-auto-detection" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Schema auto-detection<a href="#md:schema-auto-detection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Out of the box, the extension has a generic schema file that includes only
in-box tasks. You probably have custom tasks installed in your organization.</p>
<p>To provide the most relevant IntelliSense, the extension will automatically
detect and use your organization's schema! All you need to do is follow the
instructions when prompted.</p>
<blockquote>
<p>If automatic fetching of the organization schema doesn't work, try signing out
and signing back in using the <code>Azure: Sign Out</code> and <code>Azure: Sign In</code> commands
from the VS Code command palette (Ctrl/Cmd + Shift + P).</p>
</blockquote>
<a id="md:specific-schema" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Specific schema<a href="#md:specific-schema" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If you need to use a specific schema, that is also possible.</p>
<ol>
<li>Visit <code>https://dev.azure.com/YOUR-ORG-HERE/_apis/distributedtask/yamlschema</code>
and save the output as <code>my-schema.json</code>.</li>
<li>Edit your workspace's <code>settings.json</code> to include this:</li>
</ol>
<pre><code class="json"><span class="hl-0">{</span><br/><span class="hl-0">	</span><span class="hl-1">&quot;azure-pipelines.customSchemaFile&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;./path/to/my-schema.json&quot;</span><br/><span class="hl-0">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:document-formatting" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Document formatting<a href="#md:document-formatting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Since this extension defines a new file type (&quot;<code>azure-pipelines</code>&quot;), any YAML
formatter you've installed no longer applies to pipelines documents. Hat tip to
@mgexm and @dotnetcanuck for
<a href="https://github.com/microsoft/azure-pipelines-vscode/issues/209#issuecomment-718168926">sharing how they restored this functionality</a>.
We'll demonstrate with the
<a href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode">Prettier</a>
VS Code extension:</p>
<p>Add this to your <code>settings.json</code>:</p>
<pre><code class="json"><span class="hl-2">&quot;[azure-pipelines]&quot;</span><span class="hl-0">: {</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;editor.defaultFormatter&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;esbenp.prettier-vscode&quot;</span><br/><span class="hl-0">},</span>
</code><button type="button">Copy</button></pre>

<p>Both format on save and the <code>Format document</code> command should now work!</p>
<a id="md:pipeline-configuration" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Pipeline configuration<a href="#md:pipeline-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><img src="https://raw.githubusercontent.com/microsoft/azure-pipelines-vscode/main/resources/configure-pipeline.gif" alt="Configure Pipeline Demo"></p>
<p>To set up a pipeline, choose <em>Azure Pipelines: Configure Pipeline</em> from the
command palette (Ctrl/Cmd + Shift + P) or right-click in the file explorer. The
guided workflow will generate a starter YAML file defining the build and deploy
process.</p>
<p>You can customize the pipeline using all the features offered by
<a href="https://azure.microsoft.com/services/devops/pipelines/">Azure Pipelines.</a>.</p>
<p>Once the setup is completed, an automatic CI/CD trigger will fire for every code
push. To set this up, the extension will ask for a GitHub PAT with <em>repo</em> and
<em>admin:repo_hook</em> scope.</p>
<p><img src="media/gitHubPatScope.png" alt="GitHub PAT scope"></p>
<a id="md:telemetry" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Telemetry<a href="#md:telemetry" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>VS Code collects usage data and sends it to Microsoft to help improve our
products and services. Read our
<a href="https://go.microsoft.com/fwlink/?LinkID=528096&amp;clcid=0x409">privacy statement</a>
to learn more. If you donâ€™t wish to send usage data to Microsoft, you can set
the <code>telemetry.enableTelemetry</code> setting to <code>false</code>. Learn more in our
<a href="https://code.visualstudio.com/docs/supporting/faq#_how-to-disable-telemetry-reporting">FAQ</a>.</p>
<a id="md:troubleshooting-failures" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Troubleshooting failures<a href="#md:troubleshooting-failures" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>
<p><strong>Selected workspace is not a Git repository</strong>: You can configure a pipeline
for a Git repository backed by GitHub or Azure Repos. Initialize your
workspace as a Git repo, commit your files, and add a remote to GitHub or
Azure Repos. Run the following commands to configure git repository:</p>
<p><code>git init</code></p>
<p><code>git add *</code></p>
<p><code>git ecommit -m &lt;commit-message&gt;</code></p>
<p><code>git remote add &lt;remote-name&gt; &lt;remote-url&gt;</code></p>
</li>
<li>
<p><strong>The current branch doesn't have a tracking branch, and the selected
repository has no remotes</strong>: You can configure a pipeline for a Git
repository backed by GitHub or Azure Repos. To add a new remote Git
repository, run <code>git remote add &lt;remote-name&gt; &lt;remote-url&gt;</code></p>
</li>
<li>
<p><strong>Failed to determine Azure Repo details from remote url</strong>: If you're
configuring a pipeline for a Git repository backed by Azure Repos, ensure
that it has a remote pointing to a valid Azure Repos Git repo URL.</p>
</li>
</ul>
<a id="md:extension-development" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Extension Development<a href="#md:extension-development" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>If you are only working on the extension (i.e. syntax highlighting, configure
pipeline, and the language client):</p>
<ul>
<li>Run <code>npm install</code> to install all necessary dependencies</li>
<li>Run <code>npm run watch</code> to automatically rebuild the extension whenever you make
changes</li>
<li>Run the &quot;Extension&quot; debug configuration to launch a VS Code window using
your modified version of the extension</li>
</ul>
<p>If you are also working on the language server:</p>
<ul>
<li>Follow the first two steps above</li>
<li>Clone the
<a href="https://github.com/microsoft/azure-pipelines-language-server">azure-pipelines-language-server</a>
repository alongside this repository</li>
<li>Run <code>npm link ../azure-pipelines-language-server/language-server</code></li>
<li>Follow the instructions in the language server README to link the language
service to the language server</li>
<li>Add the <code>azure-pipelines-language-server</code> folder to your VS Code workspace</li>
<li>Run the &quot;Launch Extension &amp; Attach to Server&quot; debug configuration
<ul>
<li>Note: In order to attach to the server, the extension must be activated
(in other words, make sure you are editing an Azure Pipelines file)</li>
<li>In case the attach request timeouts before the server can start, wait
for it to start and then run the &quot;Attach to Server&quot; debug configuration</li>
</ul>
</li>
</ul>
<a id="md:contributing" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Contributing<a href="#md:contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>See <a href="media/CONTRIBUTING.md">CONTRIBUTING.md</a> if you want to jump in!</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:azure-pipelines-for-vs-code"><span>Azure <wbr/>Pipelines for VS <wbr/>Code</span></a><ul><li><a href="#md:validation"><span>Validation</span></a></li><li><ul><li><a href="#md:schema-auto-detection"><span>Schema auto-<wbr/>detection</span></a></li><li><a href="#md:specific-schema"><span>Specific schema</span></a></li></ul></li><li><a href="#md:document-formatting"><span>Document formatting</span></a></li><li><a href="#md:pipeline-configuration"><span>Pipeline configuration</span></a></li><li><a href="#md:telemetry"><span>Telemetry</span></a></li><li><a href="#md:troubleshooting-failures"><span>Troubleshooting failures</span></a></li><li><a href="#md:extension-development"><span>Extension <wbr/>Development</span></a></li></ul><a href="#md:contributing"><span>Contributing</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>azure-pipelines</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
